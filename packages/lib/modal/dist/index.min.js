(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.index={})})(this,function(a){'use strict';function b(a,b){function c(a){r.forEach(function(b){return b.setAttribute("tabindex",a)})}function d(){n.addEventListener("keydown",h)}function h(a){27===a.keyCode&&j(),9===a.keyCode&&(a.shiftKey&&document.activeElement===u.first?(a.preventDefault(),u.last.focus()):document.activeElement===u.last&&(a.preventDefault(),u.first.focus()))}function i(a){a&&s.disableEvents&&a.preventDefault(),v=window.scrollY,n.setAttribute("aria-hidden",!1),c(0),n.classList.add(s.activeClass),e.push(o),q.forEach(function(a){return a.classList.add(s.activeClass)}),s.disableScroll&&document.documentElement.classList.add("no-scroll"),s.onOpen&&s.onOpen(n,a),s.hashHistory&&(window.location.hash="#".concat(o)),!s.preserve&&f&&f.close(),d(),f=t}function j(a){a&&s.disableEvents&&a.preventDefault(),n.setAttribute("aria-hidden",!0),c(-1),n.classList.remove(s.activeClass),e.pop(),0===e.length?(window.location.hash="",s.disableScroll&&document.documentElement.classList.remove("no-scroll")):s.hashHistory&&(window.location.hash="#".concat(e[e.length-1])),q.forEach(function(a){return a.classList.remove(s.activeClass)}),s.onClose&&s.onClose(n,a),s.preserve||(f=null),setTimeout(function(){window.scrollBy(0,v),v=0},1)}function k(a){a.preventDefault(),n.classList.contains(s.activeClass)?j(a):i(a)}function l(){n.setAttribute("aria-hidden",!0),p.forEach(function(a){return a.setAttribute("aria-label","Fechar")}),c(-1)}function m(){q.forEach(function(a){return a.addEventListener("click",k)}),p.forEach(function(a){return a.addEventListener("click",k)})}var n=a,o=n.getAttribute("id"),p=Array.from(n.querySelectorAll("[halley-modal-close]")),q=Array.from(document.querySelectorAll("[href=\"#".concat(o,"\"]"))),r=Array.from(n.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]")),s=Object.assign({},g,b),t={elm:n,nameModal:o,toggleModal:k,open:i,close:j},u={first:r[0],last:r[r.length-1]},v=0;return function(){m(),l(),window.location.hash==="#".concat(o)&&(i(),s.onStartOpen&&s.onStartOpen.call(n,event))}(),t}var c=a=>"string"==typeof a?document.querySelector(a):a;const d=a=>"object"==typeof a?a:Array.from(document.querySelectorAll(a));var e=[],f=null,g={hashHistory:!0,disableScroll:!0,disableEvents:!0,activeClass:"active"};a.default=function(a,d){var e=c(a);return b(e,d)},a.init=function(a,c){var e=d(a);return e.map(function(a){return b(a,c)})},Object.defineProperty(a,"__esModule",{value:!0})});
